const fs = require('fs');

// Read the current BodyMap component
let bodyMapContent = fs.readFileSync('src/components/BodyMap.tsx', 'utf8');

// Create a mapping of area IDs to muscle names
const areaToMuscleMapping = {
  // Front body paths
  'path-4': 'Face and Skin',
  'path-5': 'Top Head',
  'path-7': 'Right Pectoralis Major',
  'path-8': 'Right Intercostal',
  'path-9': 'Right Intercostal',
  'path-10': 'Right Intercostal',
  'path-11': 'Right Oblique',
  'path-12': 'Right Oblique',
  'path-13': 'Right Upper Rectus Abdominis',
  'path-14': 'Right Middle Rectus Abdominis',
  'path-15': 'Right Lower Rectus Abdominis',
  'path-16': 'Right Pubic Area',
  'path-17': 'Right Oblique',
  'path-18': 'Right Oblique',
  'path-19': 'Right Oblique',
  'path-20': 'Right Sternocleidomastoideus',
  'path-21': 'Right Trap Front',
  'path-22': 'Right Trapezius',
  'path-23': 'Right Deltoideus',
  'path-24': 'Right Biceps Brachii SH',
  'path-25': 'Right Biceps Brachii LH',
  'path-26': 'Right Forearm Lateral',
  'path-27': 'Right Forearm Central',
  'path-28': 'Right Forearm Medial',
  'path-29': 'Right Patella',
  'path-30': 'Right Medial Knee',
  'path-31': 'Right Calf Front',
  'path-32': 'Right Tibialis Anterior',
  'path-33': 'Right Digitorum Longus',
  'path-34': 'Right Ankle',
  'path-35': 'Right Ankle Ligaments',
  'path-36': 'Right Foot Front',
  'path-37': 'Right Feet Toe',
  'path-38': 'Right Hand Front',
  'path-39': 'Right 5th Finger',
  'path-40': 'Right 4th Finger',
  'path-41': 'Right 3rd Finger',
  'path-42': 'Right 2nd Finger',
  'path-43': 'Right 1st Finger',
  'path-44': 'Right Larynx',
  'path-45': 'Right Pubis Adductor',
  'path-46': 'Right Adductor Long',
  'path-47': 'Right Rectus Femoris',
  'path-48': 'Right Vastus Lateralis',
  'path-49': 'Right Vastus Medialis',
  'path-50': 'Right Adductor Short',
  'path-51': 'Left Pectoralis Major',
  'path-52': 'Left Intercostal',
  'path-53': 'Left Intercostal',
  'path-54': 'Left Intercostal',
  'path-55': 'Left Oblique',
  'path-56': 'Left Oblique',
  'path-57': 'Left Upper Rectus Abdominis',
  'path-58': 'Left Middle Rectus Abdominis',
  'path-59': 'Left Lower Rectus Abdominis',
  'path-60': 'Left Pubic Area',
  'path-61': 'Left Oblique',
  'path-62': 'Left Oblique',
  'path-63': 'Left Oblique',
  'path-64': 'Left Sternocleidomastoideus',
  'path-65': 'Left Trap Front',
  'path-66': 'Left Trapezius',
  'path-67': 'Left Deltoideus',
  'path-68': 'Left Biceps Brachii SH',
  'path-69': 'Left Biceps Brachii LH',
  'path-70': 'Left Forearm Lateral',
  'path-71': 'Right Forearm Central',
  'path-72': 'Left Forearm Medial',
  'path-73': 'Left Patella',
  'path-74': 'Left Medial Knee',
  'path-75': 'Left Calf Front',
  'path-76': 'Left Tibialis Anterior',
  'path-77': 'Left Digitorum Longus',
  'path-78': 'Left Ankle',
  'path-79': 'Left Ankle Ligaments',
  'path-80': 'Left Foot Front',
  'path-81': 'Left Feet Toe',
  'path-82': 'Left Hand Front',
  'path-83': 'Left 5th Finger',
  'path-84': 'Left 4th Finger',
  'path-85': 'Left 3rd Finger',
  'path-86': 'Left 2nd Finger',
  'path-87': 'Left 1st Finger',
  'path-88': 'Left Larynx',
  'path-89': 'Left Pubis Adductor',
  'path-90': 'Left Adductor Long',
  'path-91': 'Left Rectus Femoris',
  'path-92': 'Left Vastus Lateralis',
  'path-93': 'Left Vastus Medialis',
  'path-94': 'Left Adductor Short',
  
  // Back body paths
  'back-head': 'Back Head',
  'left-foot': 'Left Foot',
  'left-gluteus-maximus': 'Left Gluteus Maximus',
  'left-back-trap': 'Left Back Trap',
  'left-infraspinatus': 'Left Infraspinatus',
  'left-back-shoulder': 'Left Back Shoulder',
  'left-teres-major': 'Left Teres Major',
  'left-triceps': 'Left Triceps',
  'left-latisimus-dorsi': 'Left Latisimus Dorsi',
  'left-back-hip': 'Left Back Hip',
  'left-adductor-back': 'Left Adductor Back',
  'left-vastus-lateralis-quad': 'Left Vastus Lateralis Quad',
  'left-bflh': 'Left BFlh',
  'left-semimembranosus': 'Left Semimembranosus',
  'left-lateral-gastrocs': 'Left Lateral Gastrocs',
  'left-medial-gastrocs': 'Left Medial Gastrocs',
  'left-heel': 'Left Heel',
  'left-achilles': 'Left Achilles',
  'left-semitendinosus': 'Left Semitendinosus',
  'left-elbow': 'Left Elbow',
  'left-back-forearm': 'Left Back Forearm',
  'left-gluteus-medius': 'Left Gluteus Medius',
  'left-lower-back': 'Left Lower Back',
  'left-back-upper-trap': 'Left Back Upper Trap',
  'left-back-hand': 'Left Back Hand',
  'left-back-5th-finger': 'Left Back 5th Finger',
  'left-back-4th-finger': 'Left Back 4th Finger',
  'left-back-3rd-finger': 'Left Back 3rd Finger',
  'left-back-2nd-finger': 'Left Back 2nd Finger',
  'left-back-1st-finger': 'Left Back 1st Finger',
  'right-foot': 'Right Foot',
  'right-gluteus-maximus': 'Right Gluteus Maximus',
  'right-back-trap': 'Right Back Trap',
  'right-infraspinatus': 'Right Infraspinatus',
  'right-back-shoulder': 'Right Back Shoulder',
  'right-teres-major': 'Right Teres Major',
  'right-triceps': 'Right Triceps',
  'right-lattisimus-dorsi': 'Right Lattisimus Dorsi',
  'right-back-hip': 'Right Back Hip',
  'right-adductor-back': 'Right Adductor Back',
  'right-vastus-lateralis-quad': 'Right Vastus Lateralis Quad',
  'right-bflh': 'Right BFlh',
  'right-semimembranosus': 'Right Semimembranosus',
  'right-lateral-gastrocs': 'Right Lateral Gastrocs',
  'right-medial-gastrocs': 'Right Medial Gastrocs',
  'right-heel': 'Right Heel',
  'right-achilles': 'Right Achilles',
  'right-semitendinosus': 'Right Semitendinosus',
  'right-elbow': 'Right Elbow',
  'right-back-forearm': 'Right Back Forearm',
  'right-gluteus-medius': 'Right Gluteus Medius',
  'right-lower-back': 'Right Lower Back',
  'right-back-upper-trap': 'Right Back Upper Trap',
  'right-back-hand': 'Right Back Hand',
  'right-back-5th-finger': 'Right Back 5th Finger',
  'right-back-4th-finger': 'Right Back 4th Finger',
  'right-back-3rd-finger': 'Right Back 3rd Finger',
  'right-back-2nd-finger': 'Right Back 2nd Finger',
  'right-back-1st-finger': 'Right Back 1st Finger'
};

// Add the getMuscleName function after the handleAreaClick function
const getMuscleNameFunction = `
  const getMuscleName = (areaId: string): string => {
    const muscleNames: Record<string, string> = ${JSON.stringify(areaToMuscleMapping, null, 2)};
    return muscleNames[areaId] || areaId.replace(/-/g, ' ');
  };`;

// Find the position after handleAreaClick function and add the getMuscleName function
const handleAreaClickEndRegex = /(\s+onAreaClick\(areaId, currentRating \+ 1\)\s+}\s+})/;
bodyMapContent = bodyMapContent.replace(handleAreaClickEndRegex, `$1${getMuscleNameFunction}`);

// Replace the area display logic to use getMuscleName function
const areaDisplayRegex = /(\s+<span className="text-slate-200 capitalize text-xs">)(\{area\.replace\(\\/-/g, ' '\)\})(<\/span>)/;
bodyMapContent = bodyMapContent.replace(areaDisplayRegex, '$1{getMuscleName(area)}$3');

// Write the updated content back to the file
fs.writeFileSync('src/components/BodyMap.tsx', bodyMapContent);

console.log('Muscle name display has been fixed in BodyMap.tsx');
