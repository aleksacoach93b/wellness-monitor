'use client'

import { useState } from 'react'
import { X } from 'lucide-react'

interface BodyMapProps {
  view: 'front' | 'back'
  onAreaClick: (areaId: string, rating: number) => void
  selectedAreas: Record<string, number>
  onViewChange: (view: 'front' | 'back') => void
  onContinue: () => void
  onClose: () => void
}

export default function BodyMap({ view, onAreaClick, selectedAreas, onViewChange, onContinue, onClose }: BodyMapProps) {

  const handleAreaClick = (areaId: string, event: React.MouseEvent) => {
    event.stopPropagation()
    
    // Get current rating for this area (0 if not selected)
    const currentRating = selectedAreas[areaId] || 0
    
    // Cycle through ratings: 0 -> 1 -> 2 -> ... -> 10 -> 0
    const nextRating = currentRating >= 10 ? 0 : currentRating + 1
    
    // Call onAreaClick with the new rating
    onAreaClick(areaId, nextRating)
  }


  const handleDeselectArea = (areaId: string) => {
    // Remove the area from selectedAreas
    const newSelectedAreas = { ...selectedAreas }
    delete newSelectedAreas[areaId]
    // Call onAreaClick with rating 0 to indicate deselection
    onAreaClick(areaId, 0)
  }

  const getAreaColor = (areaId: string) => {
    const rating = selectedAreas[areaId]
    if (!rating) return '#e5e7eb' // Default gray
    
    // Color based on rating intensity
    if (rating <= 3) return '#22c55e' // Green for mild pain (1-3)
    if (rating <= 6) return '#eab308' // Yellow for moderate pain (4-6)
    if (rating <= 8) return '#f97316' // Orange for high pain (7-8)
    return '#ef4444' // Red for severe pain (9-10)
  }

  const frontBodySVG = (
    <svg 
      width="400" 
      height="600" 
      viewBox="0 0 595.276 841.89" 
      xmlns="http://www.w3.org/2000/svg"
      className="max-w-full h-auto"
    >
      <defs>
        <style>
          {`
            .body-area { cursor: pointer; transition: opacity 0.2s; }
            .body-area:hover { opacity: 0.7; }
            .cls-1 { fill: #707070; }
            .cls-2 { fill: #bebdbe; }
            .cls-3 { fill: #3f3f3f; }
          `}
        </style>
      </defs>
      
      {/* Front Body - Individual Muscle Regions */}
      <g>
        <g id="_Слой_1" data-name="Слой_1">
          <g id="Anterior_Body">
            {/* Head */}
            <path 
              id="head"
              className="body-area"
              fill={getAreaColor('head')}
              stroke="#374151" 
              strokeWidth="1"
              d="M320.678,13.36c-7.409-2.663-14.377-5.072-23.109-4.323-.047.004-.09.063-.132.114-.043-.051-.085-.11-.132-.114-8.732-.75-15.7,1.66-23.109,4.323-11.508,4.136-14.944,19.574-14.705,30.713,0,4.599,1.194,9.169,2.209,13.622,1.04,4.563,3.065,4.535,3.853,4.796,12.087,4,12.849,19.784,18.174,20,3.798.154,8.116-.025,11.954-.01.128.033.253.074.394.068.439-.021.9-.033,1.362-.044.462.011.923.023,1.362.044.141.007.266-.035.394-.068,3.838-.014,8.157.164,11.954.01,5.325-.216,6.087-16,18.174-20,.788-.261,2.813-.233,3.853-4.796,1.015-4.453,2.209-9.023,2.209-13.622.239-11.138-3.197-26.577-14.705-30.713Z"
              onClick={(e) => handleAreaClick('head', e)}
            />
            
            {/* Left Chest */}
            <path 
              id="left-chest"
              className="body-area"
              fill={getAreaColor('left-chest')}
              stroke="#374151" 
              strokeWidth="1"
              d="M219.843,814.778c3.478,0,36.174-.696,37.333,2.087,1.159,2.783,4.962,9.507-2.041,9.507s-26.249-3.246-29.727-4.638-7.652-4.87-7.652-4.87l2.087-2.087Z"
              onClick={(e) => handleAreaClick('left-chest', e)}
            />
            
            {/* Right Chest */}
            <path 
              id="right-chest"
              className="body-area"
              fill={getAreaColor('right-chest')}
              stroke="#374151" 
              strokeWidth="1"
              d="M375.849,814.778c-3.478,0-36.174-.696-37.333,2.087-1.159,2.783-4.962,9.507,2.041,9.507s26.249-3.246,29.727-4.638,7.652-4.87,7.652-4.87l-2.087-2.087Z"
              onClick={(e) => handleAreaClick('right-chest', e)}
            />
            
            {/* Left Shoulder */}
            <path 
              id="left-shoulder"
              className="body-area"
              fill={getAreaColor('left-shoulder')}
              stroke="#374151" 
              strokeWidth="1"
              d="M253.837,372.924c-12.632,7.536-19.747,12.87-24.023,19.826-4.276,6.957-3.478,19.478,2.319,32,5.797,12.522,17.855,26.553,24.116,26.553s16.522,7.949,27.13,3.881c9.211-3.532,5.642-9.896,6.586-18.222,1.316-11.61,4.197-10.937,5.762-38.473.377-6.629-1.13-17.681-2.985-21.391-1.855-3.71-5.653-8.464-7.276-10.551-1.623-2.087-2.667-6.672-16.232-.696-5.618,2.475-7.317,2.251-15.397,7.072Z"
              onClick={(e) => handleAreaClick('left-shoulder', e)}
            />
            
            {/* Right Shoulder */}
            <path 
              id="right-shoulder"
              className="body-area"
              fill={getAreaColor('right-shoulder')}
              stroke="#374151" 
              strokeWidth="1"
              d="M341.037,372.924c12.632,7.536,19.747,12.87,24.023,19.826,4.276,6.957,3.478,19.478-2.319,32-5.797,12.522-17.855,26.553-24.116,26.553s-16.522,7.949-27.13,3.881c-9.211-3.532-5.642-9.896-6.586-18.222-1.316-11.61-4.197-10.937-5.762-38.473-.377-6.629,1.13-17.681,2.985-21.391,1.855-3.71,5.653-8.464,7.276-10.551,1.623-2.087,2.667-6.672,16.232-.696,5.618,2.475,7.317,2.251,15.397,7.072Z"
              onClick={(e) => handleAreaClick('right-shoulder', e)}
            />
            
            {/* Left Bicep */}
            <path 
              id="left-bicep"
              className="body-area"
              fill={getAreaColor('left-bicep')}
              stroke="#374151" 
              strokeWidth="1"
              d="M244.075,144.055c6.261,6.609,13.348,32.585,17.391,46.261,4.659,15.76,8.02,25.471,20.174,45.217,8.172,13.277,7.652,21.913,9.391,20.522,2.435-26.783,8-99.826-1.391-107.478-9.391-7.652-12.522-6.261-22.956-7.652-10.435-1.391-22.609,3.13-22.609,3.13Z"
              onClick={(e) => handleAreaClick('left-bicep', e)}
            />
            
            {/* Right Bicep */}
            <path 
              id="right-bicep"
              className="body-area"
              fill={getAreaColor('right-bicep')}
              stroke="#374151" 
              strokeWidth="1"
              d="M350.799,144.055c-6.261,6.609-13.348,32.585-17.391,46.261-4.659,15.76-8.02,25.471-20.174,45.217-8.172,13.277-7.652,21.913-9.391,20.522-2.435-26.783-8-99.826,1.391-107.478,9.391-7.652,12.522-6.261,22.956-7.652,10.435-1.391,22.609,3.13,22.609,3.13Z"
              onClick={(e) => handleAreaClick('right-bicep', e)}
            />
            
            {/* Rectus Abdominis */}
            <path 
              id="rectus-abdominis"
              className="body-area"
              fill={getAreaColor('rectus-abdominis')}
              stroke="#374151" 
              strokeWidth="1"
              d="M268.132,462.199c4.174,3.71,15.838,24.24,12.128,44.182s5.757-12.766,7.872-25.573c1.673-10.125,2.715-17.855.812-19.536-2.987-2.639-20.811.928-20.811.928Z"
              onClick={(e) => handleAreaClick('rectus-abdominis', e)}
            />
            
            {/* Left Quadriceps */}
            <path 
              id="left-quadriceps"
              className="body-area"
              fill={getAreaColor('left-quadriceps')}
              stroke="#374151" 
              strokeWidth="1"
              d="M217.988,438.663c-1.391,9.044,1.855,77.449,7.188,98.087,5.333,20.638,4.122,8.116,2.989-2.087-1.134-10.203,2.113-36.406,2.576-45.681.464-9.275-1.391-32.232-5.333-42.203-3.942-9.971-3.246-10.435-5.565-13.913-2.319-3.478-1.855,5.797-1.855,5.797Z"
              onClick={(e) => handleAreaClick('left-quadriceps', e)}
            />
            
            {/* Right Quadriceps */}
            <path 
              id="right-quadriceps"
              className="body-area"
              fill={getAreaColor('right-quadriceps')}
              stroke="#374151" 
              strokeWidth="1"
              d="M376.886,438.663c1.391,9.044-1.855,77.449-7.188,98.087-5.333,20.638-4.122,8.116-2.989-2.087,1.134-10.203-2.113-36.406-2.576-45.681-.464-9.275,1.391-32.232,5.333-42.203,3.942-9.971,3.246-10.435,5.565-13.913,2.319-3.478,1.855,5.797,1.855,5.797Z"
              onClick={(e) => handleAreaClick('right-quadriceps', e)}
            />
            
            {/* Left Calf */}
            <path 
              id="left-calf"
              className="body-area"
              fill={getAreaColor('left-calf')}
              stroke="#374151" 
              strokeWidth="1"
              d="M232.202,565.967c-2.407,11.809-3.78,32.696-4.939,33.623,9.971-10.667,21.05-49.935,23.652-63.072,2.57-12.973,2.609-55.681,3.768-62.637,1.159-6.957-.091-6.444-1.169-10.174-1.566-5.422-7.941-14.228-11.22-17.507-12.522-12.522-2.742,83.706-10.092,119.768Z"
              onClick={(e) => handleAreaClick('left-calf', e)}
            />
            
            {/* Right Calf */}
            <path 
              id="right-calf"
              className="body-area"
              fill={getAreaColor('right-calf')}
              stroke="#374151" 
              strokeWidth="1"
              d="M362.671,565.967c2.407,11.809,3.78,32.696,4.939,33.623-9.971-10.667-21.05-49.935-23.652-63.072-2.57-12.973-2.609-55.681-3.768-62.637-1.159-6.957.091-6.444,1.169-10.174,1.566-5.422,7.941-14.228,11.22-17.507,12.522-12.522,2.742,83.706,10.092,119.768Z"
              onClick={(e) => handleAreaClick('right-calf', e)}
            />
          </g>
        </g>
      </g>
    </svg>
  )

  const backBodySVG = (
    <svg 
      width="400" 
      height="600" 
      viewBox="0 0 595.276 841.89" 
      xmlns="http://www.w3.org/2000/svg"
      className="max-w-full h-auto"
    >
      <defs>
        <style>
          {`
            .body-area { cursor: pointer; transition: opacity 0.2s; }
            .body-area:hover { opacity: 0.7; }
            .cls-1 { fill: #707070; }
            .cls-2 { fill: #bebdbe; }
            .cls-3 { fill: #3f3f3f; }
          `}
        </style>
      </defs>
      
      {/* Back Body - Individual Muscle Regions */}
      <g>
        <g id="_Слой_1" data-name="Слой_1">
          <g id="Anterior_Body">
            {/* Main Body Outline - Non-clickable background */}
            <path 
              id="back-main-body-bg"
              fill="#f3f4f6"
              stroke="#d1d5db" 
              strokeWidth="1"
              d="M503.606,431.387c-1.159-1.217-7.362-5.217-8.869-6.783-1.507-1.565-1.507-2.783-5.681-9.971-4.174-7.188-19.739-13.565-21.478-13.913-1.739-.348-5.13-4.609-6-6.957-3.586-9.681-12-42.782-15.652-72.348-3.652-29.565-17.391-46.261-24.87-56.522.348-28.348-6.154-34.253-9.739-43.304.348-7.13,2.824-22.625,1.151-42.995-1.325-16.135-21.499-35.381-34.02-37.12-8.109-1.126-12.58.812-23.072,0-10.493-.812-30.145-18.435-31.188-20.522-1.043-2.087-3.246-19.478-1.623-21.681,1.623-2.203,1.855-.116,3.478-4.638,1.623-4.522.748-12.652.748-12.652,0,0,.431-1.734.73-.537.174.696.522,1.42,1.304,1.826,1.215.63,2.726-2.299,4.319-5.072,4.236-7.376,8.204-21.448,2.348-23.217-1.066-.322-2.609,2.435-2.609,2.435,0-1.391,1.391-14.261-.696-22.261-1.672-6.408-7.929-12.814-12.87-16.696-6.035-4.741-18.342-5.076-21.407-5.099v-.002c-.063,0-.176,0-.272,0-.096,0-.209,0-.272,0v.002c-3.065.024-15.372.358-21.407,5.099-4.94,3.881-11.198,10.288-12.869,16.696-2.087,8-.696,20.869-.696,22.261,0,0-1.543-2.757-2.609-2.435-5.856,1.769-1.888,15.842,2.348,23.217,1.593,2.773,3.104,5.702,4.319,5.072.783-.406,1.13-1.13,1.304-1.826.299-1.198.73.537.73.537,0,0-.875,8.13.748,12.652,1.623,4.522,1.855,2.435,3.478,4.638,1.623,2.203-.58,19.594-1.623,21.681-1.043,2.087-20.695,19.71-31.188,20.522-10.493.812-14.963-1.126-23.072,0-12.522,1.739-32.696,20.985-34.021,37.12-1.673,20.37.803,35.865,1.151,42.995-3.586,9.052-10.087,14.956-9.739,43.304-7.478,10.261-21.217,26.956-24.869,56.522-3.652,29.565-12.066,62.666-15.652,72.348-.87,2.348-4.261,6.609-6,6.957-1.739.348-17.304,6.725-21.478,13.913-4.174,7.188-4.174,8.406-5.681,9.971-1.507,1.565-7.71,5.565-8.869,6.783-1.159,1.217-1.971,5.797,1.275,6.551,3.246.754,11.928-1.13,14.754-7.478,3.391-2.217,4.217-2.261,4.217-2.261,0,0,1.145,3.478.971,6.261-.174,2.783-5.884,11.304-8.145,16.348-2.261,5.044-9.043,14.348-7.217,16.957,1.826,2.609,4.435,2.174,5.565,1.304,1.131-.87,7.565-11.782,8.826-13.696,1.435-1.87,6.826-8.826,7.783-9.87-1.536,6.348-4.029,13.826-5.015,16.783-.985,2.957-5.581,11.857-5.623,14.899-.058,4.232,2.863,5.169,4.812,3.884,5.449-3.594,8.509-12.803,9.855-15.478,2.279-4.529,4.754-12.58,7.072-16.29-.58,4.522-1.995,10.753-2.754,16.029-.384,2.668-2.723,16.404.261,17.304,4.609,1.391,5.217-3.913,7.043-10.174,1.826-6.261,4.087-21.739,5.478-24.087,2.087.435,1.773,1.909,2.174,6.087.526,5.487.087,19.13,4.087,19.13s4.29-13.739,4.812-22.087c.522-8.348,3.246-12.754,4.638-19.594,1.391-6.841,4.632-16.343,4.406-24.348-.105-3.717-1.681-7.014,1.507-18.898,1.956-7.292,26.551-55.42,29.316-59.942,2.996-4.897,8.597-19.478,9.988-30.609,1.391-11.13,1.159-11.594,1.855-16.928.696-5.333,2.853-7.684,5.565-10.898,3.13-3.71,7.652-14.725,11.13-29.739,1.623-.058,2.12-1.399,2.898-.87,0,0,2.087,23.768,6.377,30.377,4.29,6.609,3.014,9.043,3.942,11.478.928,2.435.464,18.319-.232,27.13-.696,8.812-2.725,39.536-4.638,46.84-1.913,7.304-4.29,10.435-6.145,19.71-1.855,9.275-4.812,21.416-5.449,32.812,0,0-3.897,27.041-3.536,37.217.387,10.903-2.435,85.043,13.217,103.13-.754,3.536-.058,9.681.058,11.536.116,1.855-4.406,21.101-2.667,33.971,1.739,12.87,1.043,8.406.696,11.623-.348,3.217-14.261,46.348,6.609,125.768,1.247,4.746,1.739,14.319,1.739,19.362s-1.739,14.956-1.739,19.652-.174,6.956.869,9.913c1.044,2.956.87,7.826.174,11.478-.696,3.652-14.783,13.565-16,18.956-1.217,5.391-2.782,8.522-.522,10.087,2.261,1.565,3.304,0,3.304,0,0,0-.869,2.609.522,4,1.391,1.391,5.565,1.217,5.565,1.217,0,0,1.391.348,2.261,1.739.87,1.391,4.522,2.087,5.391,1.217.869-.87,1.391-.798,2.087.383.376.639,1.922,1.39,3.263,1.946,1.289.534,2.752.418,3.94-.313l2.71-1.668s2.261,2.609,2.783,2.783c.522.174,5.913,2.087,7.304,0,1.391-2.087,8-7.13,7.652-13.043-.348-5.913-.869-9.217-.696-11.304.174-2.087.696-5.217,1.565-8.348.87-3.13,1.913-4.522,1.217-10.435-.696-5.913-.174-6.261-.174-7.304s.869-3.826,1.043-6.956-2.261-9.565-2.261-9.565c0,0-1.044-6.261-1.565-14.783-.522-8.522,1.217-42.087,4.696-53.217,3.478-11.13,5.519-14.615,5.913-17.391,4.174-29.391-2.605-61.037-3.826-72.232-.696-6.377,2.087-7.072,3.826-13.507,1.739-6.435,3.13-22.435,1.217-29.565-1.404-5.231,4.869-24.348,5.739-30.261.87-5.913,12.812-51.652,13.449-59.826.638-8.174,1.449-33.526-.696-37.353,1.021,0,3.948,2.031,5.195,2.385.054.046.145.055.253.047.108.008.199,0,.253-.047,1.247-.354,4.174-2.385,5.195-2.385-2.145,3.826-1.333,29.179-.696,37.353.638,8.174,12.58,53.913,13.449,59.826.87,5.913,7.143,25.029,5.739,30.261-1.913,7.13-.522,23.13,1.217,29.565,1.739,6.435,4.522,7.13,3.826,13.507-1.221,11.194-8,42.84-3.826,72.232.394,2.776,2.435,6.261,5.913,17.391,3.478,11.13,5.217,44.696,4.696,53.217-.522,8.522-1.565,14.783-1.565,14.783,0,0-2.435,6.435-2.261,9.565.174,3.13,1.044,5.913,1.044,6.956s.522,1.391-.174,7.304c-.696,5.913.348,7.304,1.217,10.435.87,3.13,1.391,6.261,1.565,8.348.174,2.087-.348,5.391-.696,11.304-.348,5.913,6.261,10.956,7.652,13.043,1.391,2.087,6.783.174,7.304,0,.522-.174,2.783-2.783,2.783-2.783l2.71,1.668c1.188.731,2.652.847,3.94.313,1.341-.555,2.887-1.306,3.263-1.946.696-1.182,1.217-1.253,2.087-.383.87.869,4.522.174,5.391-1.217.87-1.391,2.261-1.739,2.261-1.739,0,0,4.174.174,5.565-1.217,1.391-1.391.522-4,.522-4,0,0,1.043,1.565,3.304,0,2.261-1.565.696-4.696-.522-10.087-1.217-5.391-15.304-15.304-16-18.956-.696-3.652-.87-8.522.174-11.478,1.043-2.957.87-5.217.87-9.913s-1.739-14.609-1.739-19.652.492-14.616,1.739-19.362c20.869-79.42,6.956-122.55,6.609-125.768-.348-3.217-1.044,1.246.696-11.623,1.739-12.87-2.783-32.116-2.667-33.971.116-1.855.812-8,.058-11.536,15.652-18.087,12.831-92.228,13.217-103.13.361-10.176-3.536-37.217-3.536-37.217-.637-11.395-3.594-23.536-5.449-32.812-1.855-9.275-4.232-12.406-6.145-19.71-1.913-7.304-3.942-38.029-4.638-46.84-.696-8.812-1.159-24.696-.232-27.13.927-2.435-.348-4.87,3.942-11.478,4.29-6.609,6.377-30.377,6.377-30.377.779-.529,1.275.812,2.898.87,3.478,15.015,8,26.029,11.13,29.739,2.713,3.215,4.87,5.565,5.565,10.898.696,5.333.464,5.797,1.855,16.928,1.391,11.13,6.992,25.711,9.988,30.609,2.766,4.522,27.36,52.65,29.316,59.942,3.188,11.884,1.612,15.182,1.507,18.898-.226,8.004,3.015,17.507,4.406,24.348,1.391,6.841,4.116,11.246,4.638,19.594.522,8.348.812,22.087,4.812,22.087s3.561-13.644,4.087-19.13c.401-4.178.087-5.652,2.174-6.087,1.391,2.348,3.652,17.826,5.478,24.087,1.826,6.261,2.435,11.565,7.044,10.174,2.984-.901.645-14.636.261-17.304-.759-5.275-2.174-11.507-2.754-16.029,2.319,3.71,4.793,11.761,7.073,16.29,1.346,2.675,4.406,11.884,9.855,15.478,1.948,1.285,4.87.348,4.812-3.884-.042-3.041-4.638-11.942-5.623-14.899-.986-2.956-3.478-10.435-5.015-16.783.957,1.044,6.348,8,7.783,9.87,1.261,1.913,7.696,12.826,8.826,13.696,1.13.87,3.739,1.304,5.565-1.304,1.826-2.609-4.957-11.913-7.217-16.957-2.261-5.043-7.971-13.565-8.145-16.348-.174-2.783.971-6.261.971-6.261,0,0,.826.043,4.217,2.261,2.826,6.348,11.507,8.232,14.754,7.478,3.246-.754,2.435-5.333,1.275-6.551Z"
            />
            
            {/* Back Head */}
            <path 
              id="back-head"
              className="body-area"
              fill={getAreaColor('back-head')}
              stroke="#374151" 
              strokeWidth="1"
              d="M320.678,13.36c-7.409-2.663-14.377-5.072-23.109-4.323-.047.004-.09.063-.132.114-.043-.051-.085-.11-.132-.114-8.732-.75-15.7,1.66-23.109,4.323-11.508,4.136-14.944,19.574-14.705,30.713,0,4.599,1.194,9.169,2.209,13.622,1.04,4.563,3.065,4.535,3.853,4.796,12.087,4,12.849,19.784,18.174,20,3.798.154,8.116-.025,11.954-.01.128.033.253.074.394.068.439-.021.9-.033,1.362-.044.462.011.923.023,1.362.044.141.007.266-.035.394-.068,3.838-.014,8.157.164,11.954.01,5.325-.216,6.087-16,18.174-20,.788-.261,2.813-.233,3.853-4.796,1.015-4.453,2.209-9.023,2.209-13.622.239-11.138-3.197-26.577-14.705-30.713Z"
              onClick={(e) => handleAreaClick('back-head', e)}
            />
            
            {/* Left Gluteus Maximus */}
            <path 
              id="left-gluteus-maximus"
              className="body-area"
              fill={getAreaColor('left-gluteus-maximus')}
              stroke="#374151" 
              strokeWidth="1"
              d="M253.837,372.924c-12.632,7.536-19.747,12.87-24.023,19.826-4.276,6.957-3.478,19.478,2.319,32,5.797,12.522,17.855,26.553,24.116,26.553s16.522,7.949,27.13,3.881c9.211-3.532,5.642-9.896,6.586-18.222,1.316-11.61,4.197-10.937,5.762-38.473.377-6.629-1.13-17.681-2.985-21.391-1.855-3.71-5.653-8.464-7.276-10.551-1.623-2.087-2.667-6.672-16.232-.696-5.618,2.475-7.317,2.251-15.397,7.072Z"
              onClick={(e) => handleAreaClick('left-gluteus-maximus', e)}
            />
            
            {/* Right Gluteus Maximus */}
            <path 
              id="right-gluteus-maximus"
              className="body-area"
              fill={getAreaColor('right-gluteus-maximus')}
              stroke="#374151" 
              strokeWidth="1"
              d="M341.037,372.924c12.632,7.536,19.747,12.87,24.023,19.826,4.276,6.957,3.478,19.478-2.319,32-5.797,12.522-17.855,26.553-24.116,26.553s-16.522,7.949-27.13,3.881c-9.211-3.532-5.642-9.896-6.586-18.222-1.316-11.61-4.197-10.937-5.762-38.473-.377-6.629,1.13-17.681,2.985-21.391,1.855-3.71,5.653-8.464,7.276-10.551,1.623-2.087,2.667-6.672-16.232-.696-5.618,2.475-7.317,2.251-15.397,7.072Z"
              onClick={(e) => handleAreaClick('right-gluteus-maximus', e)}
            />
            
            {/* Left Back Trap */}
            <path 
              id="left-back-trap"
              className="body-area"
              fill={getAreaColor('left-back-trap')}
              stroke="#374151" 
              strokeWidth="1"
              d="M244.075,144.055c6.261,6.609,13.348,32.585,17.391,46.261,4.659,15.76,8.02,25.471,20.174,45.217,8.172,13.277,7.652,21.913,9.391,20.522,2.435-26.783,8-99.826-1.391-107.478-9.391-7.652-12.522-6.261-22.956-7.652-10.435-1.391-22.609,3.13-22.609,3.13Z"
              onClick={(e) => handleAreaClick('left-back-trap', e)}
            />
            
            {/* Right Back Trap */}
            <path 
              id="right-back-trap"
              className="body-area"
              fill={getAreaColor('right-back-trap')}
              stroke="#374151" 
              strokeWidth="1"
              d="M350.799,144.055c-6.261,6.609-13.348,32.585-17.391,46.261-4.659,15.76-8.02,25.471-20.174,45.217-8.172,13.277-7.652,21.913-9.391,20.522-2.435-26.783-8-99.826,1.391-107.478,9.391-7.652,12.522-6.261,22.956-7.652,10.435-1.391,22.609,3.13,22.609,3.13Z"
              onClick={(e) => handleAreaClick('right-back-trap', e)}
            />
            
            {/* Left Infraspinatus */}
            <path 
              id="left-infraspinatus"
              className="body-area"
              fill={getAreaColor('left-infraspinatus')}
              stroke="#374151" 
              strokeWidth="1"
              d="M220.833,168.517c7.328-4.045,14.941-7.604,22.742-10.637.836-.325,1.71-.649,2.603-.567,4.097.376,5.892,13.106,6.631,16.049,2.362,9.412,4.67,18.832,7.613,28.085,3.585,11.27-13.071,1.742-16.348,0-5.333-2.836-10.468-4.953-14.887-9.297-5.305-5.215-7.939-12.12-10.962-18.753-1.02-2.238-1.452-2.573.79-3.857.603-.345,1.209-.686,1.817-1.022Z"
              onClick={(e) => handleAreaClick('left-infraspinatus', e)}
            />
            
            {/* Right Infraspinatus */}
            <path 
              id="right-infraspinatus"
              className="body-area"
              fill={getAreaColor('right-infraspinatus')}
              stroke="#374151" 
              strokeWidth="1"
              d="M374.041,168.517c-7.328-4.045-14.941-7.604-22.742-10.637-.836-.325-1.71-.649-2.603-.567-4.097.376-5.893,13.106-6.631,16.049-2.362,9.412-4.67,18.832-7.613,28.085-3.585,11.27,13.071,1.742,16.348,0,5.333-2.836,10.468-4.953,14.887-9.297,5.305-5.215,7.939-12.12,10.962-18.753,1.02-2.238,1.452-2.573-.79-3.857-.603-.345-1.209-.686-1.817-1.022Z"
              onClick={(e) => handleAreaClick('right-infraspinatus', e)}
            />
            
            {/* Left Triceps */}
            <path 
              id="left-triceps"
              className="body-area"
              fill={getAreaColor('left-triceps')}
              stroke="#374151" 
              strokeWidth="1"
              d="M209.64,195.881c-23.529,16.696-23.188,27.362-21.101,41.044,1.899,12.452,7.513-1.015,11.278-3.787,2.741-2.018,5.519-3.951,8.215-6.033.884-.683,6.115-3.894,5.935-5.252-.153-1.159-4.327-25.971-4.327-25.971Z"
              onClick={(e) => handleAreaClick('left-triceps', e)}
            />
            
            {/* Right Triceps */}
            <path 
              id="right-triceps"
              className="body-area"
              fill={getAreaColor('right-triceps')}
              stroke="#374151" 
              strokeWidth="1"
              d="M385.234,195.881c23.529,16.696,23.188,27.362,21.101,41.044-1.899,12.452-7.513-1.015-11.278-3.787-2.741-2.018-5.519-3.951-8.215-6.033-.884-.683-6.115-3.894-5.935-5.252.153-1.159,4.327-25.971,4.327-25.971Z"
              onClick={(e) => handleAreaClick('right-triceps', e)}
            />
            
            {/* Left Latissimus Dorsi */}
            <path 
              id="left-latissimus-dorsi"
              className="body-area"
              fill={getAreaColor('left-latissimus-dorsi')}
              stroke="#374151" 
              strokeWidth="1"
              d="M264.132,208.867c3.71,6.857,11.594,25.871,14.377,31.205s6.956,7.42,6.029,12.985c-.928,5.565-8.398,25.839-11.594,32.563-3.196,6.725-7.884,20.406-10.435,26.567-2.721,6.573-5.101,13.681-6.261,17.159-.939,2.816-9.936-10.028-13.326-15.017-.844-1.242-1.419-2.638-1.691-4.115-.926-5.038-3.255-17.88-5.158-29.795-1.102-6.904-3.246-9.739-5.101-25.043-1.855-15.304-.928-12.754-5.565-20.638-4.638-7.884-5.797-18.087-4.87-18.319,6.261,4.638,12.927,4.531,17.519,5.333,1.245.218,5.143.775,9.843-.803,7.797-2.618,8.995-3.943,10.618-6.958,1.623-3.014,5.614-5.125,5.614-5.125Z"
              onClick={(e) => handleAreaClick('left-latissimus-dorsi', e)}
            />
            
            {/* Right Latissimus Dorsi */}
            <path 
              id="right-latissimus-dorsi"
              className="body-area"
              fill={getAreaColor('right-latissimus-dorsi')}
              stroke="#374151" 
              strokeWidth="1"
              d="M330.741,208.867c-3.71,6.857-11.594,25.871-14.377,31.205s-6.956,7.42-6.029,12.985c.928,5.565,8.398,25.839,11.594,32.563,3.196,6.725,7.884,20.406,10.435,26.567,2.721,6.573,5.101,13.681,6.261,17.159.939,2.816,9.936-10.028,13.326-15.017.844-1.242,1.419-2.638,1.691-4.115.926-5.038,3.255-17.88,5.158-29.795,1.102-6.904,3.246-9.739,5.101-25.043,1.855-15.304.928-12.754,5.565-20.638,4.638-7.884,5.797-18.087,4.87-18.319-6.261,4.638-12.927,4.531-17.519,5.333-1.245.218-5.143.775-9.843-.803-7.797-2.618-8.995-3.943-10.618-6.958-1.623-3.014-5.614-5.125-5.614-5.125Z"
              onClick={(e) => handleAreaClick('right-latissimus-dorsi', e)}
            />
            
            {/* Left Hamstring */}
            <path 
              id="left-hamstring"
              className="body-area"
              fill={getAreaColor('left-hamstring')}
              stroke="#374151" 
              strokeWidth="1"
              d="M232.202,565.967c-2.407,11.809-3.78,32.696-4.939,33.623,9.971-10.667,21.05-49.935,23.652-63.072,2.57-12.973,2.609-55.681,3.768-62.637,1.159-6.957-.091-6.444-1.169-10.174-1.566-5.422-7.941-14.228-11.22-17.507-12.522-12.522-2.742,83.706-10.092,119.768Z"
              onClick={(e) => handleAreaClick('left-hamstring', e)}
            />
            
            {/* Right Hamstring */}
            <path 
              id="right-hamstring"
              className="body-area"
              fill={getAreaColor('right-hamstring')}
              stroke="#374151" 
              strokeWidth="1"
              d="M362.671,565.967c2.407,11.809,3.78,32.696,4.939,33.623-9.971-10.667-21.05-49.935-23.652-63.072-2.57-12.973-2.609-55.681-3.768-62.637-1.159-6.957.091-6.444,1.169-10.174,1.566-5.422,7.941-14.228,11.22-17.507,12.522-12.522,2.742,83.706,10.092,119.768Z"
              onClick={(e) => handleAreaClick('right-hamstring', e)}
            />
            
            {/* Left Foot */}
            <path 
              id="left-foot"
              className="body-area"
              fill={getAreaColor('left-foot')}
              stroke="#374151" 
              strokeWidth="1"
              d="M219.843,814.778c3.478,0,36.174-.696,37.333,2.087,1.159,2.783,4.962,9.507-2.041,9.507s-26.249-3.246-29.727-4.638-7.652-4.87-7.652-4.87l2.087-2.087Z"
              onClick={(e) => handleAreaClick('left-foot', e)}
            />
            
            {/* Right Foot */}
            <path 
              id="right-foot"
              className="body-area"
              fill={getAreaColor('right-foot')}
              stroke="#374151" 
              strokeWidth="1"
              d="M375.849,814.778c-3.478,0-36.174-.696-37.333,2.087-1.159,2.783-4.962,9.507,2.041,9.507s26.249-3.246,29.727-4.638,7.652-4.87,7.652-4.87l-2.087-2.087Z"
              onClick={(e) => handleAreaClick('right-foot', e)}
            />
            
            {/* Left Back Shoulder */}
            <path 
              id="left-back-shoulder"
              className="body-area"
              fill={getAreaColor('left-back-shoulder')}
              stroke="#374151" 
              strokeWidth="1"
              d="M228.12,154.019c-2.314-1.484-5.519-3.253-5.992-3.414-3.499-1.196-7.343-1.411-10.978-.791-5.958,1.015-12.054,5.984-16.504,9.892-2.883,2.533-5.59,7.041-7.003,10.61-2.185,5.518-1.35,10.159-1.339,15.949.013,6.847.027,13.694.04,20.541,0,.053,7.168-2.876,7.836-3.25,3.727-2.084,7.016-4.805,10.163-7.672,2.754-2.508,6.456-5.927,6.456-9.974,0-6.099,1.432-12.257,4.734-17.435,3.713-5.824,9.841-8.162,14.975-12.443.244-.204-.883-1.048-2.387-2.012Z"
              onClick={(e) => handleAreaClick('left-back-shoulder', e)}
            />
            
            {/* Right Back Shoulder */}
            <path 
              id="right-back-shoulder"
              className="body-area"
              fill={getAreaColor('right-back-shoulder')}
              stroke="#374151" 
              strokeWidth="1"
              d="M366.753,154.019c2.314-1.484,5.519-3.253,5.992-3.414,3.499-1.196,7.343-1.411,10.978-.791,5.958,1.015,12.054,5.984,16.504,9.892,2.883,2.533,5.59,7.041,7.003,10.61,2.184,5.518,1.35,10.159,1.339,15.949-.013,6.847-.027,13.694-.04,20.541,0,.053-7.168-2.876-7.836-3.25-3.727-2.084-7.016-4.805-10.163-7.672-2.754-2.508-6.456-5.927-6.456-9.974,0-6.099-1.432-12.257-4.734-17.435-3.713-5.824-9.841-8.162-14.975-12.443-.244-.204.883-1.048,2.387-2.012Z"
              onClick={(e) => handleAreaClick('right-back-shoulder', e)}
            />
            
            {/* Left Teres Major */}
            <path 
              id="left-teres-major"
              className="body-area"
              fill={getAreaColor('left-teres-major')}
              stroke="#374151" 
              strokeWidth="1"
              d="M220.554,187.465c.173.365.326.663.456.856,2.219,3.272,5.07,6.089,8.189,8.502,5.628,4.355,12.478,8.799,19.571,9.956,4.087.667,5.522,1.145,6.609,1.754,1.087.609-.956,2.435-.956,2.652s-6.29,3.594-13.015,4.406c-9.996,1.206-20.162-3.186-24.729-12.417-1.728-3.492-2.594-7.366-2.79-11.245-.163-3.209-.818-6.83,1.364-9.56,2.152-2.692,4.159,2.678,5.302,5.096Z"
              onClick={(e) => handleAreaClick('left-teres-major', e)}
            />
            
            {/* Right Teres Major */}
            <path 
              id="right-teres-major"
              className="body-area"
              fill={getAreaColor('right-teres-major')}
              stroke="#374151" 
              strokeWidth="1"
              d="M374.32,187.465c-.173.365-.326.663-.456.856-2.219,3.272-5.07,6.089-8.189,8.502-5.628,4.355-12.478,8.799-19.571,9.956-4.087.667-5.522,1.145-6.609,1.754-1.087.609.956,2.435.956,2.652s6.29,3.594,13.015,4.406c9.996,1.206,20.162-3.186,24.729-12.417,1.728-3.492,2.594-7.366,2.79-11.245.163-3.209.818-6.83-1.364-9.56-2.152-2.692-4.159,2.678-5.302,5.096Z"
              onClick={(e) => handleAreaClick('right-teres-major', e)}
            />
            
            {/* Left Back Hip */}
            <path 
              id="left-back-hip"
              className="body-area"
              fill={getAreaColor('left-back-hip')}
              stroke="#374151" 
              strokeWidth="1"
              d="M241.39,318.744c.64.189,1.222.625,1.82,1.293,2.455,2.74,4.732,5.64,6.812,8.675,1.955,2.853,4.592,6.216,5.357,9.658.615,2.767-7.689,6.491-9.404,7.593-4.189,2.692-7.769,5.919-10.312,10.256-1.513,2.581-2.04,1.091-2.371-1.035-.993-6.386-1.766-13.129-1.22-19.696.46-5.539,1.264-14.201,7.094-16.53.855-.342,1.57-.407,2.224-.214Z"
              onClick={(e) => handleAreaClick('left-back-hip', e)}
            />
            
            {/* Right Back Hip */}
            <path 
              id="right-back-hip"
              className="body-area"
              fill={getAreaColor('right-back-hip')}
              stroke="#374151" 
              strokeWidth="1"
              d="M353.484,318.744c-.64.189-1.222.625-1.82,1.293-2.455,2.74-4.732,5.64-6.812,8.675-1.955,2.853-4.592,6.216-5.357,9.658-.615,2.767,7.689,6.491,9.404,7.593,4.189,2.692,7.769,5.919,10.312,10.256,1.513,2.581,2.04,1.091,2.371-1.035.993-6.386,1.766-13.129,1.22-19.696-.46-5.539-1.264-14.201-7.094-16.53-.855-.342-1.57-.407-2.224-.214Z"
              onClick={(e) => handleAreaClick('right-back-hip', e)}
            />
            
            {/* Left Adductor Back */}
            <path 
              id="left-adductor-back"
              className="body-area"
              fill={getAreaColor('left-adductor-back')}
              stroke="#374151" 
              strokeWidth="1"
              d="M268.132,462.199c4.174,3.71,15.838,24.24,12.128,44.182s5.757-12.766,7.872-25.573c1.673-10.125,2.715-17.855.812-19.536-2.987-2.639-20.811.928-20.811.928Z"
              onClick={(e) => handleAreaClick('left-adductor-back', e)}
            />
            
            {/* Right Adductor Back */}
            <path 
              id="right-adductor-back"
              className="body-area"
              fill={getAreaColor('right-adductor-back')}
              stroke="#374151" 
              strokeWidth="1"
              d="M326.741,462.199c-4.174,3.71-15.838,24.24-12.128,44.182s-5.757-12.766-7.872-25.573c-1.673-10.125-2.715-17.855-.812-19.536,2.987-2.639,20.811.928,20.811.928Z"
              onClick={(e) => handleAreaClick('right-adductor-back', e)}
            />
            
            {/* Left Vastus Lateralis Quad */}
            <path 
              id="left-vastus-lateralis-quad"
              className="body-area"
              fill={getAreaColor('left-vastus-lateralis-quad')}
              stroke="#374151" 
              strokeWidth="1"
              d="M217.988,438.663c-1.391,9.044,1.855,77.449,7.188,98.087,5.333,20.638,4.122,8.116,2.989-2.087-1.134-10.203,2.113-36.406,2.576-45.681.464-9.275-1.391-32.232-5.333-42.203-3.942-9.971-3.246-10.435-5.565-13.913-2.319-3.478-1.855,5.797-1.855,5.797Z"
              onClick={(e) => handleAreaClick('left-vastus-lateralis-quad', e)}
            />
            
            {/* Right Vastus Lateralis Quad */}
            <path 
              id="right-vastus-lateralis-quad"
              className="body-area"
              fill={getAreaColor('right-vastus-lateralis-quad')}
              stroke="#374151" 
              strokeWidth="1"
              d="M376.886,438.663c1.391,9.044-1.855,77.449-7.188,98.087-5.333,20.638-4.122,8.116-2.989-2.087,1.134-10.203-2.113-36.406-2.576-45.681-.464-9.275,1.391-32.232,5.333-42.203,3.942-9.971,3.246-10.435,5.565-13.913,2.319-3.478,1.855,5.797,1.855,5.797Z"
              onClick={(e) => handleAreaClick('right-vastus-lateralis-quad', e)}
            />
            
            {/* Left BFlh */}
            <path 
              id="left-bflh"
              className="body-area"
              fill={getAreaColor('left-bflh')}
              stroke="#374151" 
              strokeWidth="1"
              d="M232.202,565.967c-2.407,11.809-3.78,32.696-4.939,33.623,9.971-10.667,21.05-49.935,23.652-63.072,2.57-12.973,2.609-55.681,3.768-62.637,1.159-6.957-.091-6.444-1.169-10.174-1.566-5.422-7.941-14.228-11.22-17.507-12.522-12.522-2.742,83.706-10.092,119.768Z"
              onClick={(e) => handleAreaClick('left-bflh', e)}
            />
            
            {/* Right BFlh */}
            <path 
              id="right-bflh"
              className="body-area"
              fill={getAreaColor('right-bflh')}
              stroke="#374151" 
              strokeWidth="1"
              d="M362.671,565.967c2.407,11.809,3.78,32.696,4.939,33.623-9.971-10.667-21.05-49.935-23.652-63.072-2.57-12.973-2.609-55.681-3.768-62.637-1.159-6.957.091-6.444,1.169-10.174,1.566-5.422,7.941-14.228,11.22-17.507,12.522-12.522,2.742,83.706,10.092,119.768Z"
              onClick={(e) => handleAreaClick('right-bflh', e)}
            />
            
            {/* Left Semimembranosus */}
            <path 
              id="left-semimembranosus"
              className="body-area"
              fill={getAreaColor('left-semimembranosus')}
              stroke="#374151" 
              strokeWidth="1"
              d="M276.886,506.605c0,12.29-11.13,44.29-10.435,58.666.696,14.377-2.213,39.42-2.677,41.507,4.87-11.362,7.186-35.942,7.417-48,.232-12.058,8.245-32.927,7.317-39.884s-1.623-12.29-1.623-12.29Z"
              onClick={(e) => handleAreaClick('left-semimembranosus', e)}
            />
            
            {/* Right Semimembranosus */}
            <path 
              id="right-semimembranosus"
              className="body-area"
              fill={getAreaColor('right-semimembranosus')}
              stroke="#374151" 
              strokeWidth="1"
              d="M317.988,506.605c0,12.29,11.13,44.29,10.435,58.666-.696,14.377,2.213,39.42,2.677,41.507-4.87-11.362-7.186-35.942-7.417-48-.232-12.058-8.245-32.927-7.317-39.884.928-6.956,1.623-12.29,1.623-12.29Z"
              onClick={(e) => handleAreaClick('right-semimembranosus', e)}
            />
            
            {/* Left Lateral Gastrocs */}
            <path 
              id="left-lateral-gastrocs"
              className="body-area"
              fill={getAreaColor('left-lateral-gastrocs')}
              stroke="#374151" 
              strokeWidth="1"
              d="M236.77,594.836c-18.783,21.913-14.089,75.594-10.959,89.855,3.13,14.261,3.538,16.763,10.106,16.672,2.576-.036,8.389-3.687,7.345-15.513-1.043-11.826.232-44.606.232-57.739,0-7.652,2.087-44.938,2.087-44.938l-8.812,11.662Z"
              onClick={(e) => handleAreaClick('left-lateral-gastrocs', e)}
            />
            
            {/* Right Lateral Gastrocs */}
            <path 
              id="right-lateral-gastrocs"
              className="body-area"
              fill={getAreaColor('right-lateral-gastrocs')}
              stroke="#374151" 
              strokeWidth="1"
              d="M358.103,594.836c18.783,21.913,14.089,75.594,10.959,89.855-3.13,14.261-3.538,16.763-10.106,16.672-2.576-.036-8.389-3.687-7.345-15.513,1.043-11.826-.232-44.606-.232-57.739,0-7.652-2.087-44.938-2.087-44.938l8.812,11.662Z"
              onClick={(e) => handleAreaClick('right-lateral-gastrocs', e)}
            />
            
            {/* Left Medial Gastrocs */}
            <path 
              id="left-medial-gastrocs"
              className="body-area"
              fill={getAreaColor('left-medial-gastrocs')}
              stroke="#374151" 
              strokeWidth="1"
              d="M248.984,610.257c2.599,27.13.541,60.965,0,71.188-.515,9.739-1.005,18.993,3.633,19.921,4.638.928,15.806-13.834,17.893-27.399,1.659-10.781-1.246-33.792-3.13-44-2.67-14.462-6.001-19.71-9.609-27.13s-7.029-15.768-7.637-19.246c-.609-3.478-1.149,26.667-1.149,26.667Z"
              onClick={(e) => handleAreaClick('left-medial-gastrocs', e)}
            />
            
            {/* Right Medial Gastrocs */}
            <path 
              id="right-medial-gastrocs"
              className="body-area"
              fill={getAreaColor('right-medial-gastrocs')}
              stroke="#374151" 
              strokeWidth="1"
              d="M345.89,610.257c-2.599,27.13-.541,60.965,0,71.188.515,9.739,1.005,18.993-3.633,19.921-4.638.928-15.806-13.834-17.893-27.399-1.659-10.781,1.246-33.792,3.13-44,2.67-14.462,6.001-19.71,9.609-27.13,3.608-7.42,7.029-15.768,7.637-19.246.609-3.478,1.149,26.667,1.149,26.667Z"
              onClick={(e) => handleAreaClick('right-medial-gastrocs', e)}
            />
            
            {/* Left Heel */}
            <path 
              id="left-heel"
              className="body-area"
              fill={getAreaColor('left-heel')}
              stroke="#374151" 
              strokeWidth="1"
              d="M238.282,780.633c2.551,11.362,1.95,16.491,6.841,17.507,8.927,1.855,10.667-5.333,11.13-10.899.464-5.565,3.015-7.884,3.015-7.884,0,0-.086,20.64-1.159,25.739-.928,4.406-.882,7.065-5.639,7.065-6.689,0-11.468,1.109-14.767.007-3.733-1.247-2.268-16.77-2.783-24-.594-8.348-.984-10.027-.52-12.114.464-2.087,3.883,4.578,3.883,4.578Z"
              onClick={(e) => handleAreaClick('left-heel', e)}
            />
            
            {/* Right Heel */}
            <path 
              id="right-heel"
              className="body-area"
              fill={getAreaColor('right-heel')}
              stroke="#374151" 
              strokeWidth="1"
              d="M356.591,780.633c-2.551,11.362-1.95,16.491-6.841,17.507-8.927,1.855-10.667-5.333-11.13-10.899-.464-5.565-3.015-7.884-3.015-7.884,0,0,.086,20.64,1.159,25.739.928,4.406.882,7.065,5.639,7.065,6.689,0,11.468,1.109,14.767.007,3.733-1.247,2.268-16.77,2.783-24,.594-8.348.984-10.027.52-12.114-.464-2.087-3.883,4.578-3.883,4.578Z"
              onClick={(e) => handleAreaClick('right-heel', e)}
            />
            
            {/* Left Achilles */}
            <path 
              id="left-achilles"
              className="body-area"
              fill={getAreaColor('left-achilles')}
              stroke="#374151" 
              strokeWidth="1"
              d="M236.958,708.231c3.152.079,5.772,2.478,6.162,5.607,2.243,17.996,4.037,62.548,3.621,65.461-.464,3.246-2.038,18.523-3.478,11.538-4.232-20.523-6.751-50.291-9.275-62.61-2.435-11.884-6.725-14.782-2.087-18.492,2.366-1.893,1.947-1.582,5.057-1.503Z"
              onClick={(e) => handleAreaClick('left-achilles', e)}
            />
            
            {/* Right Achilles */}
            <path 
              id="right-achilles"
              className="body-area"
              fill={getAreaColor('right-achilles')}
              stroke="#374151" 
              strokeWidth="1"
              d="M357.916,708.231c-3.152.079-5.772,2.478-6.162,5.607-2.243,17.996-4.037,62.548-3.621,65.461.464,3.246,2.038,18.523,3.478,11.538,4.232-20.523,6.751-50.291,9.275-62.61,2.435-11.884,6.725-14.782,2.087-18.492-2.366-1.893-1.947-1.582-5.057-1.503Z"
              onClick={(e) => handleAreaClick('right-achilles', e)}
            />
            
            {/* Left Semitendinosus */}
            <path 
              id="left-semitendinosus"
              className="body-area"
              fill={getAreaColor('left-semitendinosus')}
              stroke="#374151" 
              strokeWidth="1"
              d="M259.519,472.324c-2.194,9.469-10.941,111.725-2.194,123.092,3.71-6.261,6.431-60.985,14.901-83.014,4.397-11.437-.348-26.319-2.413-34.203-.67-2.558-7.304-13.333-7.304-13.333l-2.99,7.459Z"
              onClick={(e) => handleAreaClick('left-semitendinosus', e)}
            />
            
            {/* Right Semitendinosus */}
            <path 
              id="right-semitendinosus"
              className="body-area"
              fill={getAreaColor('right-semitendinosus')}
              stroke="#374151" 
              strokeWidth="1"
              d="M335.354,472.324c2.194,9.469,10.941,111.725,2.194,123.092-3.71-6.261-6.431-60.985-14.901-83.014-4.397-11.437.348-26.319,2.413-34.203.67-2.558,7.304-13.333,7.304-13.333l2.99,7.459Z"
              onClick={(e) => handleAreaClick('right-semitendinosus', e)}
            />
            
            {/* Left Elbow */}
            <path 
              id="left-elbow"
              className="body-area"
              fill={getAreaColor('left-elbow')}
              stroke="#374151" 
              strokeWidth="1"
              d="M172.471,289.082c.279,3.064.799,6.101.856,9.216.11,5.972-1.907,18.422,3.761,22.676,5.021-4.754,7.043-13.133,6.656-19.817-.222-3.833-3.835-6.377-6.195-9.149-1.787-2.099-3.538-4.231-5.253-6.389,0,1.161.071,2.314.175,3.462Z"
              onClick={(e) => handleAreaClick('left-elbow', e)}
            />
            
            {/* Right Elbow */}
            <path 
              id="right-elbow"
              className="body-area"
              fill={getAreaColor('right-elbow')}
              stroke="#374151" 
              strokeWidth="1"
              d="M422.403,289.082c-.279,3.064-.799,6.101-.856,9.216-.11,5.972,1.907,18.422-3.76,22.676-5.021-4.754-7.043-13.133-6.656-19.817.222-3.833,3.835-6.377,6.195-9.149,1.787-2.099,3.538-4.231,5.253-6.389,0,1.161-.071,2.314-.175,3.462Z"
              onClick={(e) => handleAreaClick('right-elbow', e)}
            />
            
            {/* Left Back Forearm */}
            <path 
              id="left-back-forearm"
              className="body-area"
              fill={getAreaColor('left-back-forearm')}
              stroke="#374151" 
              strokeWidth="1"
              d="M162.799,295.823c-1.855,15.536-10.667,85.681-16.464,100.753-.464,7.188,21.826-36.956,24.435-51.652,2.069-11.653-1.478-34.261-4.029-39.826-2.551-5.565-3.942-9.275-3.942-9.275Z"
              onClick={(e) => handleAreaClick('left-back-forearm', e)}
            />
            
            {/* Right Back Forearm */}
            <path 
              id="right-back-forearm"
              className="body-area"
              fill={getAreaColor('right-back-forearm')}
              stroke="#374151" 
              strokeWidth="1"
              d="M432.074,295.823c1.855,15.536,10.667,85.681,16.464,100.753.464,7.188-21.826-36.956-24.435-51.652-2.069-11.653,1.478-34.261,4.029-39.826,2.551-5.565,3.942-9.275,3.942-9.275Z"
              onClick={(e) => handleAreaClick('right-back-forearm', e)}
            />
            
            {/* Left Gluteus Medius */}
            <path 
              id="left-gluteus-medius"
              className="body-area"
              fill={getAreaColor('left-gluteus-medius')}
              stroke="#374151" 
              strokeWidth="1"
              d="M272.48,356.808c-3.71-2.087-21.29-7.424-28.29-3.478-6.377,3.594-15.536,24.294-15.072,31.42,7.582-4.638,22.319-16.759,29.043-19.478,6.725-2.719,17.101-5.449,17.101-5.449l-2.783-3.015Z"
              onClick={(e) => handleAreaClick('left-gluteus-medius', e)}
            />
            
            {/* Right Gluteus Medius */}
            <path 
              id="right-gluteus-medius"
              className="body-area"
              fill={getAreaColor('right-gluteus-medius')}
              stroke="#374151" 
              strokeWidth="1"
              d="M322.393,356.808c3.71-2.087,21.29-7.424,28.29-3.478,6.377,3.594,15.536,24.294,15.072,31.42-7.582-4.638-22.319-16.759-29.043-19.478-6.725-2.719-17.101-5.449-17.101-5.449l2.783-3.015Z"
              onClick={(e) => handleAreaClick('right-gluteus-medius', e)}
            />
            
            {/* Left Lower Back */}
            <path 
              id="left-lower-back"
              className="body-area"
              fill={getAreaColor('left-lower-back')}
              stroke="#374151" 
              strokeWidth="1"
              d="M287.785,265.678c-.905-1.863-2.319,3.246-5.101,8.116-2.783,4.87-12.522,28.058-14.377,33.159-.9,2.474-14.493,35.188-10.493,37.797,11.61,7.572,31.826,20.522,31.826,20.522,6.029-23.536,2.087-91.478-1.855-99.594Z"
              onClick={(e) => handleAreaClick('left-lower-back', e)}
            />
            
            {/* Right Lower Back */}
            <path 
              id="right-lower-back"
              className="body-area"
              fill={getAreaColor('right-lower-back')}
              stroke="#374151" 
              strokeWidth="1"
              d="M307.089,265.678c.905-1.863,2.319,3.246,5.101,8.116,2.783,4.87,12.522,28.058,14.377,33.159.9,2.474,14.493,35.188,10.493,37.797-11.61,7.572-31.826,20.522-31.826,20.522-6.029-23.536-2.087-91.478,1.855-99.594Z"
              onClick={(e) => handleAreaClick('right-lower-back', e)}
            />
            
            {/* Left Back Upper Trap */}
            <path 
              id="left-back-upper-trap"
              className="body-area"
              fill={getAreaColor('left-back-upper-trap')}
              stroke="#374151" 
              strokeWidth="1"
              d="M281.204,91.25c-.697,1.318-.474,3.161-.374,4.865.223,3.813-.746,8.474-1.277,12.288-.69,4.953-2.997,11.471-5.391,15.826-2.165,3.938-4.628,3.957-8.464,6.398-2.309,1.469-3.34,1.524-5.664,2.965-.508.315-3.073,1.79-2.814,2.511.233.65,3.94.75,4.629.826,6.817.756,13.692.512,20.531.268,2.062-.074,4.123-.147,6.185-.221.899-.032,1.851-.08,2.598-.581,1.299-.87,1.456-2.686,1.483-4.249.228-13.355.456-24.778.684-38.133.02-1.146-.001-2.408-.759-3.269-.492-.559-1.219-.849-1.934-1.057-2.403-.701-5.007-.696-7.407.013-1.034.305-1.657.854-2.025,1.55Z"
              onClick={(e) => handleAreaClick('left-back-upper-trap', e)}
            />
            
            {/* Right Back Upper Trap */}
            <path 
              id="right-back-upper-trap"
              className="body-area"
              fill={getAreaColor('right-back-upper-trap')}
              stroke="#374151" 
              strokeWidth="1"
              d="M313.67,91.25c.697,1.318.473,3.161.374,4.865-.223,3.813.746,8.474,1.277,12.288.69,4.953,2.997,11.471,5.391,15.826,2.165,3.938,4.628,3.957,8.464,6.398,2.309,1.469,3.339,1.524,5.663,2.965.508.315,3.073,1.79,2.814,2.511-.233.65-3.94.75-4.629.826-6.817.756-13.692.512-20.531.268-2.062-.074-4.123-.147-6.185-.221-.899-.032-1.851-.08-2.598-.581-1.299-.87-1.456-2.686-1.483-4.249-.228-13.355-.456-24.778-.684-38.133-.02-1.146.001-2.408.759-3.269.492-.559,1.219-.849,1.934-1.057,2.403-.701,5.007-.696,7.407.013,1.034.305,1.657.854,2.025,1.55Z"
              onClick={(e) => handleAreaClick('right-back-upper-trap', e)}
            />
            
            {/* Left Back Hand */}
            <path 
              id="left-back-hand"
              className="body-area"
              fill={getAreaColor('left-back-hand')}
              stroke="#374151" 
              strokeWidth="1"
              d="M136.742,400.519c.958-.166,1.924-.209,2.894-.094,5.524.654,15.15,1.767,17.344,8.014.255.725.274,1.509.281,2.278.074,8.143-.916,16.313-3.012,24.185-.394,1.479-.853,2.972-1.73,4.227-4.945,7.078-18.275,2.266-23.853-1.265-5.038-3.19-12.612-8.127-12.961-14.608-.311-5.761,3.136-11.945,7.775-15.235,3.8-2.694,8.43-6.664,13.261-7.502Z"
              onClick={(e) => handleAreaClick('left-back-hand', e)}
            />
            
            {/* Right Back Hand */}
            <path 
              id="right-back-hand"
              className="body-area"
              fill={getAreaColor('right-back-hand')}
              stroke="#374151" 
              strokeWidth="1"
              d="M458.131,400.519c-.958-.166-1.924-.209-2.894-.094-5.524.654-15.15,1.767-17.344,8.014-.255.725-.274,1.509-.281,2.278-.074,8.143.915,16.313,3.012,24.185.394,1.479.853,2.972,1.73,4.227,4.945,7.078,18.275,2.266,23.853-1.265,5.038-3.19,12.612-8.127,12.961-14.608.311-5.761-3.136-11.945-7.775-15.235-3.8-2.694-8.43-6.664-13.261-7.502Z"
              onClick={(e) => handleAreaClick('right-back-hand', e)}
            />
            
            {/* Left Back 1st Finger */}
            <path 
              id="left-back-1st-finger"
              className="body-area"
              fill={getAreaColor('left-back-1st-finger')}
              stroke="#374151" 
              strokeWidth="1"
              d="M113.718,410.837c-2.899,2.783-7.652,8.214-9.623,12.339-1.971,4.125-10.435,5.748-10.551,8.299-.116,2.551-.696,4.174.464,4.29,1.159.116,5.565.348,8.232-2.087,2.667-2.435,4.638-3.826,6.377-6.261,1.739-2.435,3.246-5.333,4.058-9.159.812-3.826,3.13-9.159,3.13-9.159l-2.087,1.739Z"
              onClick={(e) => handleAreaClick('left-back-1st-finger', e)}
            />
            
            {/* Right Back 1st Finger */}
            <path 
              id="right-back-1st-finger"
              className="body-area"
              fill={getAreaColor('right-back-1st-finger')}
              stroke="#374151" 
              strokeWidth="1"
              d="M481.156,410.837c2.899,2.783,7.652,8.214,9.623,12.339,1.971,4.125,10.435,5.748,10.551,8.299.116,2.551.696,4.174-.464,4.29-1.159.116-5.565.348-8.232-2.087s-4.638-3.826-6.377-6.261c-1.739-2.435-3.246-5.333-4.058-9.159-.812-3.826-3.13-9.159-3.13-9.159l2.087,1.739Z"
              onClick={(e) => handleAreaClick('right-back-1st-finger', e)}
            />
            
            {/* Left Back 2nd Finger */}
            <path 
              id="left-back-2nd-finger"
              className="body-area"
              fill={getAreaColor('left-back-2nd-finger')}
              stroke="#374151" 
              strokeWidth="1"
              d="M115.041,434.913c-1.638,1.374-5.094,9.189-5.698,10.306-1.735,3.207-3.466,6.417-5.196,9.627-1.397,2.593-4.135,5.992-4.458,8.978-.098.735-.777,4.788,1.025,3.967.27-.123.476-.351.672-.574,4.755-5.389,8.45-11.373,12.532-17.253,1.197-1.724,2.336-3.491,3.605-5.165,1.093-1.442,2.964-2.784,3.827-4.327.375-.67.329-1.487.273-2.253-.02-.275-.044-.562-.19-.796-.134-.216-.355-.36-.572-.492-1.649-1.01-3.456-1.76-5.335-2.216-.133-.032-.297.041-.486.199Z"
              onClick={(e) => handleAreaClick('left-back-2nd-finger', e)}
            />
            
            {/* Right Back 2nd Finger */}
            <path 
              id="right-back-2nd-finger"
              className="body-area"
              fill={getAreaColor('right-back-2nd-finger')}
              stroke="#374151" 
              strokeWidth="1"
              d="M479.832,434.913c1.638,1.374,5.094,9.189,5.698,10.306,1.735,3.207,3.466,6.417,5.196,9.627,1.397,2.593,4.135,5.992,4.458,8.978.098.735.777,4.788-1.025,3.967-.27-.123-.476-.351-.672-.574-4.755-5.389-8.45-11.373-12.532-17.253-1.197-1.724-2.336-3.491-3.605-5.165-1.093-1.442-2.964-2.784-3.827-4.327-.375-.67-.329-1.487-.273-2.253.02-.275.044-.562.19-.796.134-.216.355-.36.572-.492,1.649-1.01,3.456-1.76,5.335-2.216.133-.032.297.041.486.199Z"
              onClick={(e) => handleAreaClick('right-back-2nd-finger', e)}
            />
            
            {/* Left Back 3rd Finger */}
            <path 
              id="left-back-3rd-finger"
              className="body-area"
              fill={getAreaColor('left-back-3rd-finger')}
              stroke="#374151" 
              strokeWidth="1"
              d="M123.062,442.351c-.921.956-1.541,4.469-1.833,5.344-.8,2.395-1.65,4.773-2.526,7.141-1.721,4.65-3.545,9.26-5.305,13.895-1.174,3.091-2.714,6.074-2.673,9.466.022,1.812,2.264.917,3.212.468,3.037-1.437,3.422-3.824,4.563-6.638.882-2.177,1.786-4.344,2.696-6.509,2.823-6.712,5.686-13.397,8.905-19.931.12-.243.242-.493.27-.764.246-2.404-5.405-2.659-6.825-2.714-.17-.007-.332.082-.485.241Z"
              onClick={(e) => handleAreaClick('left-back-3rd-finger', e)}
            />
            
            {/* Right Back 3rd Finger */}
            <path 
              id="right-back-3rd-finger"
              className="body-area"
              fill={getAreaColor('right-back-3rd-finger')}
              stroke="#374151" 
              strokeWidth="1"
              d="M471.812,442.351c.921.956,1.541,4.469,1.833,5.344.8,2.395,1.65,4.773,2.526,7.141,1.721,4.65,3.545,9.26,5.305,13.895,1.174,3.091,2.714,6.074,2.673,9.466-.022,1.812-2.264.917-3.212.468-3.037-1.437-3.422-3.824-4.563-6.638-.882-2.177-1.786-4.344-2.696-6.509-2.823-6.712-5.686-13.397-8.905-19.931-.12-.243-.242-.493-.27-.764-.246-2.404,5.405-2.659,6.825-2.714.17-.007.332.082.485.241Z"
              onClick={(e) => handleAreaClick('right-back-3rd-finger', e)}
            />
            
            {/* Left Back 4th Finger */}
            <path 
              id="left-back-4th-finger"
              className="body-area"
              fill={getAreaColor('left-back-4th-finger')}
              stroke="#374151" 
              strokeWidth="1"
              d="M133.253,445.205c-1.533,6.433-2.068,13.164-3.161,19.689-.357,2.134-.717,4.268-1.049,6.407-.439,2.829-.922,5.164-.606,8.074.029.27.069.557.244.765.805.96,2.72-.017,3.31-.748.65-.806.914-1.853,1.08-2.875.463-2.844,1.137-5.652,1.712-8.479.871-4.285,1.69-8.581,2.557-12.867.532-2.633,1.065-5.267,1.597-7.9.065-.32.127-.668-.015-.963-.289-.603-5.654-1.166-5.67-1.103Z"
              onClick={(e) => handleAreaClick('left-back-4th-finger', e)}
            />
            
            {/* Right Back 4th Finger */}
            <path 
              id="right-back-4th-finger"
              className="body-area"
              fill={getAreaColor('right-back-4th-finger')}
              stroke="#374151" 
              strokeWidth="1"
              d="M461.62,445.205c1.533,6.433,2.068,13.164,3.161,19.689.357,2.134.717,4.268,1.049,6.407.439,2.829.922,5.164.606,8.074-.029.27-.069.557-.244.765-.805.96-2.72-.017-3.31-.748-.65-.806-.914-1.853-1.08-2.875-.463-2.844-1.137-5.652-1.712-8.479-.871-4.285-1.69-8.581-2.557-12.867-.532-2.633-1.065-5.267-1.597-7.9-.065-.32-.127-.668.015-.963.289-.603,5.654-1.166,5.67-1.103Z"
              onClick={(e) => handleAreaClick('right-back-4th-finger', e)}
            />
            
            {/* Left Back 5th Finger */}
            <path 
              id="left-back-5th-finger"
              className="body-area"
              fill={getAreaColor('left-back-5th-finger')}
              stroke="#374151" 
              strokeWidth="1"
              d="M144.801,445.505c-.067,3.683-.118,7.371-.094,11.055.022,2.369.092,4.742.33,7.101.198,1.962.245,5.602,1.483,7.147.736.919,2.812-4.742,2.881-5.085.322-1.606.265-21.571,1.135-21.671-1.939.224-3.896.81-5.735,1.453Z"
              onClick={(e) => handleAreaClick('left-back-5th-finger', e)}
            />
            
            {/* Right Back 5th Finger */}
            <path 
              id="right-back-5th-finger"
              className="body-area"
              fill={getAreaColor('right-back-5th-finger')}
              stroke="#374151" 
              strokeWidth="1"
              d="M450.073,445.505c.067,3.683.118,7.371.094,11.055-.022,2.369-.092,4.742-.33,7.101-.198,1.962-.245,5.602-1.483,7.147-.736.919-2.812-4.742-2.881-5.085-.322-1.606-.265-21.571-1.135-21.671,1.939.224,3.896.81,5.735,1.453Z"
              onClick={(e) => handleAreaClick('right-back-5th-finger', e)}
            />
            
            {/* Additional Left Triceps (Second Region) */}
            <path 
              id="left-triceps-2"
              className="body-area"
              fill={getAreaColor('left-triceps-2')}
              stroke="#374151" 
              strokeWidth="1"
              d="M213.117,226.838c-4.727,3.957-9.376,8.043-13.78,12.359-4.417,4.329-5.341,7.454-5.418,13.765-.112,9.102-2.838,17.876-4.197,26.816-.69,4.539-1.052,9.165-.461,13.737.696,5.385,1.734,2.783,4.136.164,1.215-1.324,2.411-2.669,3.528-4.078,3.445-4.345,3.5-8.108,4.194-13.547.76-5.959,5.327-8.132,8-13.565,1.67-3.395,2.589-10.714,4.259-14.109,3.471-7.055,4.411-15.118,2.002-22.587,0,0-2.261,1.044-2.262,1.044Z"
              onClick={(e) => handleAreaClick('left-triceps-2', e)}
            />
            
            {/* Additional Right Triceps (Second Region) */}
            <path 
              id="right-triceps-2"
              className="body-area"
              fill={getAreaColor('right-triceps-2')}
              stroke="#374151" 
              strokeWidth="1"
              d="M381.756,226.838c4.727,3.957,9.376,8.043,13.78,12.359,4.417,4.329,5.341,7.454,5.418,13.765.111,9.102,2.838,17.876,4.197,26.816.69,4.539,1.052,9.165.461,13.737-.696,5.385-1.734,2.783-4.136.164-1.215-1.324-2.411-2.669-3.528-4.078-3.445-4.345-3.5-8.108-4.194-13.547-.76-5.959-5.327-8.132-8-13.565-1.67-3.395-2.589-10.714-4.259-14.109-3.471-7.055-4.411-15.118-2.002-22.587,0,0,2.261,1.044,2.262,1.044Z"
              onClick={(e) => handleAreaClick('right-triceps-2', e)}
            />
            
            {/* Additional Left Triceps (Third Region) */}
            <path 
              id="left-triceps-3"
              className="body-area"
              fill={getAreaColor('left-triceps-3')}
              stroke="#374151" 
              strokeWidth="1"
              d="M182.683,233.794c-3.015,8.33-8.522,35.826-5.97,47.656.598,2.77,2.768,8.757,4.722,3.119,3.071-8.861,6.942-17.766,9.113-26.902,1.429-6.015-4.212-16.394-7.865-23.872Z"
              onClick={(e) => handleAreaClick('left-triceps-3', e)}
            />
            
            {/* Additional Right Triceps (Third Region) */}
            <path 
              id="right-triceps-3"
              className="body-area"
              fill={getAreaColor('right-triceps-3')}
              stroke="#374151" 
              strokeWidth="1"
              d="M412.19,233.794c3.014,8.33,8.522,35.826,5.97,47.656-.598,2.77-2.768,8.757-4.722,3.119-3.071-8.861-6.942-17.766-9.113-26.902-1.429-6.015,4.212-16.394,7.865-23.872Z"
              onClick={(e) => handleAreaClick('right-triceps-3', e)}
            />
            
            {/* Additional Left Back Forearm (Second Region) */}
            <path 
              id="left-back-forearm-2"
              className="body-area"
              fill={getAreaColor('left-back-forearm-2')}
              stroke="#374151" 
              strokeWidth="1"
              d="M187.031,310.895c-2.203,1.739-3.445,4.596-3.551,4.872-10.444,27.25-14.699,48.311-27.174,72.461-.833,1.612-2.448,6.131-4.406,6.718,6.956-2.087,17.739-32.053,31.434-55.945,2.975-5.19,11.348-26.018,12.044-28.802.525-2.106-6.507-.758-8.348.696Z"
              onClick={(e) => handleAreaClick('left-back-forearm-2', e)}
            />
            
            {/* Additional Right Back Forearm (Second Region) */}
            <path 
              id="right-back-forearm-2"
              className="body-area"
              fill={getAreaColor('right-back-forearm-2')}
              stroke="#374151" 
              strokeWidth="1"
              d="M407.842,310.895c2.203,1.739,3.445,4.596,3.551,4.872,10.444,27.25,14.699,48.311,27.174,72.461.833,1.612,2.448,6.131,4.406,6.718-6.956-2.087-17.739-32.053-31.434-55.945-2.975-5.19-11.348-26.018-12.044-28.802-.525-2.106,6.507-.758,8.348.696Z"
              onClick={(e) => handleAreaClick('right-back-forearm-2', e)}
            />
            
            {/* Additional Left Back Forearm (Third Region) */}
            <path 
              id="left-back-forearm-3"
              className="body-area"
              fill={getAreaColor('left-back-forearm-3')}
              stroke="#374151" 
              strokeWidth="1"
              d="M154.741,310.779c-3.478,14.377-8.065,59.188-18.266,85.797,8.348-5.565,13.454-25.391,14.846-33.507,2.948-17.196,5.305-36.139,6.477-53.521.116-1.716.161-4.821-1.886-5.355-.991,1.952-.848,4.444-1.171,6.586Z"
              onClick={(e) => handleAreaClick('left-back-forearm-3', e)}
            />
            
            {/* Additional Right Back Forearm (Third Region) */}
            <path 
              id="right-back-forearm-3"
              className="body-area"
              fill={getAreaColor('right-back-forearm-3')}
              stroke="#374151" 
              strokeWidth="1"
              d="M440.132,310.779c3.478,14.377,8.065,59.188,18.266,85.797-8.348-5.565-13.454-25.391-14.846-33.507-2.948-17.196-5.305-36.139-6.477-53.521-.116-1.716-.161-4.821,1.886-5.355.991,1.952.848,4.444,1.171,6.586Z"
              onClick={(e) => handleAreaClick('right-back-forearm-3', e)}
            />
            
            {/* Additional Left Achilles (Second Region) */}
            <path 
              id="left-achilles-2"
              className="body-area"
              fill={getAreaColor('left-achilles-2')}
              stroke="#374151" 
              strokeWidth="1"
              d="M250.673,710.662c-3.871,4.406.248,81.989.938,82.038.696.049,2.551-24.995,6.029-39.371s3.609-37.97,3.594-38.029c-1.401-5.559-7.652-6.629-10.561-4.638Z"
              onClick={(e) => handleAreaClick('left-achilles-2', e)}
            />
            
            {/* Additional Right Achilles (Second Region) */}
            <path 
              id="right-achilles-2"
              className="body-area"
              fill={getAreaColor('right-achilles-2')}
              stroke="#374151" 
              strokeWidth="1"
              d="M344.201,710.662c3.871,4.406-.248,81.989-.938,82.038-.696.049-2.551-24.995-6.029-39.371-3.478-14.377-3.609-37.97-3.594-38.029,1.401-5.559,7.652-6.629,10.561-4.638Z"
              onClick={(e) => handleAreaClick('right-achilles-2', e)}
            />
          </g>
        </g>
      </g>
    </svg>
  )

  return (
    <div className="fixed inset-0 z-50 bg-slate-900 overflow-y-auto">
      <div className="min-h-screen flex flex-col">
        {/* Header */}
        <div className="bg-slate-800 p-4 border-b border-slate-600">
          <div className="flex justify-between items-center mb-3">
            <button
              onClick={onClose}
              className="text-slate-400 hover:text-slate-200 transition-colors"
              title="Close body map"
            >
              <X className="h-6 w-6" />
            </button>
            <h3 className="text-lg font-semibold text-slate-200">Body Pain Assessment</h3>
            <div className="w-6"></div> {/* Spacer for centering */}
          </div>
          
          {/* Front/Back Toggle */}
          <div className="flex justify-center mb-3">
            <div className="bg-slate-700 rounded-lg p-1 flex">
              <button
                onClick={() => onViewChange('front')}
                className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${
                  view === 'front' 
                    ? 'bg-slate-600 text-white' 
                    : 'text-slate-300 hover:text-white'
                }`}
              >
                Front
              </button>
              <button
                onClick={() => onViewChange('back')}
                className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${
                  view === 'back' 
                    ? 'bg-slate-600 text-white' 
                    : 'text-slate-300 hover:text-white'
                }`}
              >
                Back
              </button>
            </div>
          </div>
          
          <p className="text-sm text-slate-300 text-center">
            Click on body areas to cycle through pain levels (1-10). Click repeatedly to increase pain level, or click until it resets to deselect.
          </p>
        </div>
        
        {/* Body Map Container */}
        <div className="flex-1 flex flex-col items-center justify-center p-4">
          <div className="bg-white rounded-lg p-4 w-full max-w-2xl mb-4">
            {view === 'front' ? frontBodySVG : backBodySVG}
          </div>
          
          {/* Selected Areas Display - Always visible */}
          {Object.keys(selectedAreas).length > 0 && (
            <div className="w-full max-w-2xl">
              <h5 className="text-sm font-medium text-slate-300 mb-3 text-center">Selected Areas:</h5>
              <div className="grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-32 overflow-y-auto">
                {Object.entries(selectedAreas).map(([area, rating]) => (
                  <div key={area} className="flex justify-between items-center text-sm bg-slate-700 p-3 rounded-lg border border-slate-600">
                    <span className="text-slate-200 capitalize text-xs">{area.replace(/-/g, ' ')}</span>
                    <div className="flex items-center space-x-2">
                      <span className="font-medium text-blue-400 text-xs">Rating: {rating}/10</span>
                      <button
                        type="button"
                        onClick={() => handleDeselectArea(area)}
                        className="text-red-400 hover:text-red-300 hover:bg-red-900/20 p-1 rounded transition-colors"
                        title="Remove this area"
                      >
                        <X className="h-4 w-4" />
                      </button>
                    </div>
                  </div>
                ))}
              </div>
            </div>
          )}
        </div>
        
        {/* Continue Button */}
        <div className="bg-slate-800 p-4 border-t border-slate-600">
          <button
            onClick={onContinue}
            className="w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors"
          >
            Continue to Next Question
          </button>
        </div>
      </div>
      
    </div>
  )
}